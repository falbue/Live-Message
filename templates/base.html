<!doctype html>
<html lang="ru">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="theme-color" content="#CDBCE2" />

    <title>{% block title %}{% endblock %}</title>
    <meta name="description"
        content="Анонимный чат в реальном времени: отправляйте одно сообщение без регистрации. Общайтесь свободно, без истории переписки и идентификации!" />
    <meta name="keywords" content="chat, anonymous, chatroom" />
    <meta name="author" content="falbue" />
    <meta name="robots" content="index, nofollow" />

    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Live Message" />

    <meta charset="UTF-8" />
    <link rel="icon" href="{{ url_for('static', filename='icons/favicon.svg') }}" type="image/png" />
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='icons/icon-192x192.png') }}" />
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet" />

    <script src="https://cdn.socket.io/4.0.1/socket.io.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/iconoir-icons/iconoir@main/css/iconoir.css" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('.static', filename='css/main.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('.static', filename='css/files.css') }}" />
</head>

<body>
    {% block content %}{% endblock %}

    <script>
        // Register service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register("{{ url_for('static', filename='sw.js') }}")
                    .then(registration => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>

</html>