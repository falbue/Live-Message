{% extends "base.html" %}

{% block title %}Live Message{% endblock %}

{% block content %}
<main>
    <div id="incomingCall" class="hidden">
        <div class="call-notification">
            <p>Входящий <span id="callType">видео</span> вызов</p>
            <div class="call-actions">
                <button id="acceptCall" class="call-btn accept"><i class="iconoir-check"></i></button>
                <button id="declineCall" class="call-btn decline"><i class="iconoir-close"></i></button>
            </div>
        </div>
    </div>

    <div class="chat">
        <p id="displayMessage"><b></b></p>
    </div>
    
    <textarea id="inputMessage" placeholder="Введите сообщение..." inputmode="text"></textarea>

    <nav>
        <div id="videoContainer" class="hidden">
            <video id="localVideo" autoplay muted playsinline></video>
            <video id="remoteVideo" autoplay playsinline></video>
        </div>
        
        <div class="buttons">
            <button id="endCall" class="call-btn end hidden"><i class="iconoir-phone-disabled"></i></button>
            <button id="audioCallButton"><i class="iconoir-phone"></i></button>
            <button id="videoCallButton"><i class="iconoir-camera"></i></button>
            <button id="shareButton"><i class="iconoir-share-android"></i></button>
        </div>
    </nav>
</main>

<script src="{{ url_for('static', filename='scripts/chat.js') }}"></script>
<script src="{{ url_for('static', filename='scripts/calls.js') }}"></script>
<script src="{{ url_for('static', filename='scripts/share.js') }}"></script>
{% endblock %}